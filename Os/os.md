# 운영체제

- [커널](#커널)
- [이중모드와 시스템 호출](#이중모드와-시스템-호출)
- [pcb](#pcb)
- [문맥 교환](#문맥-교환)
- [프로세스의 메모리 영역](#프로세스의-메모리-영역)

### 커널

<details>
<summary></summary>

운영체제의 핵심 서비스를 담당하는 부분을 커널(kernal)
- 프로세스 관리
- 자원 접근 및 할당
- 파일 시스템 관리

</details>


### 이중모드와 시스템 호출

<details>
<summary></summary>

CPU가 명령어를 실행하는 모드를 크게 사용자 모드와 커널 모드로 구분하는 방식

- 사용자 모드
    - 운영체제 서비스를 제공받을 수 없는 실행 모드
    - 커널 영역의 코드를 실행할 수 없는 실행 모드
    - 자원 접근 불가
- 커널 모드
    - 운영체제의 서비스를 제공받을 수 있는 실행 모드
    - 자원 접근을 비롯한 모든 명령어 실행 가능

시스템 호출     
- 커널 모드로 전환하여 실행하기 위해 호출
- 일종의 소프트웨어 인터럽트

</details>

### pcb

<details>
<summary></summary>

빠르게 번갈아 수행되는 프로세스들을 관리하기 위해 사용하는 자료구조 
운영체제는 커널 영역에 적재된 PCB를 보고 프로세스를 관리

PCB에 담기는 대표적인 정보
- pid
- 레지스터 값
- 프로세스 상태
- CPU 스케줄링 정보
- 메모리 정보
- 사용한 파일과 입출력장치 정보

</details>


### 문맥 교환

<details>
<summary></summary>

실행 문맥을 백업해두면 언제든 해당 프로세스의 실행을 재개할 수 있다
- 새로운 프로세스 실행을 위해 문맥을 복구하는 과정을
- 문맥  교환(context switching)이라 한다

</details>

### 프로세스의 메모리 영역

<details>
<summary></summary>

크게 코드 영역(=텍스트 영역), 데이터 영역, 힙 영역, 스택영역으로 프로세스는 사용자 영역에 저장

실행되는 동안 크기가 고정적 - 정적 할당 영역
- 코드 영역
    - 실행할 수 있는 코드, 기계어로 이루어진 명령어 저장
    - 데이터가 아닌 CPU가 실행할 명령어가 담기기에 read-only
- 데이터 영역
    - 프로그램 실행동안 유지할 데이터
    - 전역변수

실행 되는 동안 크기가 가변적 - 동적 할당 영역
- 힙 영역
    - 프로그래머가 직접 할당할 수 있는 저장공간
- 스택 영역
    - 데이터가 일시적으로 저장되는 공간
    - 매개변수, 지역변수
- 메모리간 충돌 방지를 위해 힙, 스택영역은 반대 방향으로 주소 할당

</details>

